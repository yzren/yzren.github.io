<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="css/bootstrop.css">
  <script src="js/angular.js"></script>
  <script src="js/moment.js"></script>
  
</head>
<body ng-controller="myCon">
<table class="table table-bordered table-hover">
  <thead>
  <tr>
    <th rowspan="2"><input type="checkbox" ng-model="vm.allChecked" ng-change="vm.checkAll(vm.allChecked)"/></th>
    <th rowspan="2">姓名</th>
    <th colspan="3">详情</th>
    <th rowspan="2">操作</th>
  </tr>
  <tr>
    <th>粉丝数</th>
    <th>生日</th>
    <th>收入</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="item in vm.items">
    <td><input type="checkbox" ng-model="item.$checked"/></td>
    <td>{{item.name}}</td>
    <td class="text-right">{{item.followers|number}}</td>
    <td>{{item.birthday|date}} ({{vm.age(item.birthday)}}岁)</td>
    <td class="text-right">{{item.income|currency}}</td>
    <td class="dropdown">
        <span class="btn btn-primary btn-xs dropdown-toggle" data-toggle="toggle" title="点此查看详情"><i
            class="glyphicon glyphicon-comment"></i></span>

      <div class="dropdown-menu panel-body">

        <h3>{{item.id}} - {{item.name}}</h3>
        粉丝：{{item.followers|number}}<br/>
        生日：{{item.birthday|date}}<br/>
        年龄：{{vm.age(item.birthday)}}岁<br/>
        收入：{{item.income|currency}}

      </div>
    </td>
  </tr>
  </tbody>
</table>
<!-- <div> 选中的项：<br/>
  <label class="label label-success" ng-repeat-start="item in vm.selection()">{{item.name}}</label><span
      ng-if="!$last && $index % 5 !== 4">,</span><br ng-repeat-end ng-if="$index % 5 === 4"/>
</div> -->
</body>
</html>
<script type="text/javascript">
  angular.module('myApp',[]).controller('myCon', function ($scope) {
  var vm = $scope.vm = {};
  vm.items = [];
  vm.checkAll = function(checked) {
    angular.forEach(vm.items, function(item) {
      item.$checked = checked;
    });
  };
  vm.selection = function() {

    /*return _.where(vm.items, {$checked: true});*/
  };
  // 供页面中使用的函数
  vm.age = function(birthday) {
    return moment().diff(birthday, 'years');
  };
  // 生成演示数据
  var MAX_NUM = 10;
  function rand(min, max) {
    return min + Math.round(Math.random() * (max-min));
  }
  for (var i = 0; i < MAX_NUM; ++i) {
    var id = rand(0, MAX_NUM);
    vm.items.push({
      id: i + 1,
      name: 'Name' + id, // 字符串类型
      followers: rand(0, 100 * 1000 * 1000), // 数字类型
      birthday: moment().subtract('day', rand(365, 365 * 50)).toDate(), // 日期类型
      income: rand(1000, 100000) // 金额类型
    });
  }
});
</script>

















 