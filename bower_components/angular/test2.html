<!DOCTYPE html>
<html lang="en" ng-app="ngShowcaseApp">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="css/bootstrop.css">
	<script src="angular.js"></script>
</head>
<body ng-controller="ctrl.form.basic">
<div style="width:500px; margin:50px auto;">
  <h3>基本校验</h3>
<form action="" class="form-horizontal" name="formText" novalidate if="formText">
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">邮箱</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" name="user_email" ng-model="vm.user.email" placeholder="邮箱">
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">邮箱</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" name="user_email" ng-model="vm.user.email" placeholder="邮箱" required>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">密码</label>
    <div class="col-sm-10">
      <input type="password" class="form-control" name="user_password" ng-model="vm.user.password" ng-maxlength="20" ng-minlength="6" placeholder="密码" required>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">用户名</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="name" ng-model="vm.user.name" ng-pattern="/^[A-Za-z]{1}[0-9A-Za-z_]{2,29}$/" placeholder="由字母、数字、下划线组成，以字母开头，3-30个字符">
    </div>
  </div>
</form>
</div>
</body>
</html>
<script>
	
	angular.module('ngShowcaseApp',[])
    .controller('ctrl.form.basic', function ($scope) {
        var vm = $scope.vm = {
            show_error: false,
            show_type: 1,
            user: {}
        };

        vm.submit = function (formText) {
            vm.show_error = true;
            formText.$setDirty();
            if(formText.$valid){
                alert("提交成功！");
            }
        };

        vm.change_show_type = function (form) {
            if (vm.show_type == 2) {
                vm.show_error = true;
            } else {
                vm.show_error = false;
            }

            // 重置表单
            vm.user = {};
            form.$setPristine();

        }
    });

</script>